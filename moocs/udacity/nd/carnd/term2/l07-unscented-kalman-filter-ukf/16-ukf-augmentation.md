## UKF Augmentation

Now we know how to represent the uncertainty of the posterior state estimation with sigma points since we have implemented the sigma point generation in C++. Now we can put these sigma points into the process function.

The process function also considers the process noise vector: **v_k**, and this also has a nonlinear effect. The UKF provides an easy way to handle nonlinear process noise effects.

Each row of the noise vector **v_k** tells the influence of the process noise on a specific state between **k** and **k+1**, so it has the same dimensions as the state vector and it depends on **delta_t**.

We know the process noise:

![7-8-1](../images/7-8-1.png)

![7-17](../images/7-17.png)

![7-17](../images/7-17.png)

You implemented the sigma point generation in C++. That's very good, because it's great preparation for the project at the end of this module. Now you know how to represent the uncertainty of the posterior state estimation with sigma points. And we can put the sigma points into the process function. But wait a second. The process function also considers the process noise vector, mu k. And this also has a non-linear effect. Fortunately, the UKF provides a super-easy way to handle non-linear process noise effects. And this is what I want to show you in this video. Let's look into this process noise again. This is the complete process model. Considering the process noise vector, looking at this, some of you might think, wait a second. Didn't we say this type of vector is the process vector nu K? Yes, you are absolutely right. In the last lesson about the Kalman filter, this was what we called nu K. And that made a big difference because you had to calculate this big process noise covariance matrix Q. The thing is if look into literature and you find this process noise vector, nu K, you really have to be careful of what the authors mean. Sometimes they mean this vector. Each row of this vector tells the influence of the process noise on a specific state between K and K plus 1. So it has the same dimension as the state vector, and it depends on delta t. Mostly this is the case when you read about the standard linear Kalman filter, but sometimes the authors mean this vector. This is something much simpler, because this vector just lists the individual independent noise processes. This vector doesn't say anything about the effect of these noise processes on the state vector, and it does not depend on delta t. Usually this is what authors mean when they write about the unscented Kalman filter. This issue confuses me a lot when I started getting into Kalman filters. So in this lesson about the UKF when I mention nu K, I'm always talking about this process noise vector. And this is a good thing because the covariance matrix Q of this process noise is much simpler in this case. To write down this matrix, you just need to know the stochastic properties of these noise processes, which we already defined. Then Q is given by this matrix. This matrix contains the variances of the noise processes. The covariances here are zero because the longitudinal acceleration noise and the yaw acceleration noise are considered independent. Now we clarified what this process noise vector is and what its covariance matrix Q looks like. What I want to show you now is how you can represent the uncertainty of the covariance matrix Q with sigma points. The solution is called augmentation. This is an overview on how we generated signal points without considering Q. What we will do now is build the augmented state, where we add the noise vector to the state vector. I call this state Xa. The augmented state dimension in our case is 7. This also means we need The additional four sigma points will be representing the uncertainty caused by the process noise. We also build the augmented covariance matrix Pa. This matrix has 7 rows and 7 columns. You just add the matrix Q as a lower right block, and fill up the remaining fields with a 0. Finally, the way to generate the 15 sigma points is exactly the same as before. Just use the augmented elements as input. In the next quiz, you will adapt your sigma point generation function to the augmented state. 